(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:n="",children:o,iconNode:d,...c},u)=>(0,t.createElement)("svg",{ref:u,...r,width:s,height:s,stroke:e,strokeWidth:l?24*Number(a)/Number(s):a,className:i("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(o)?o:[o]])),l=(e,r)=>{let l=(0,t.forwardRef)(({className:l,...n},o)=>(0,t.createElement)(a,{ref:o,iconNode:r,className:i(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...n}));return l.displayName=s(e),l};e.s(["default",()=>l],75254)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},18566,(e,t,s)=>{t.exports=e.r(76562)},23945,e=>{"use strict";let t=(0,e.i(75254).default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]);e.s(["Store",()=>t],23945)},52683,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(94690),r=e.i(23945),a=e.i(75254);let l=(0,a.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),n=(0,a.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var o=e.i(84614),d=e.i(18566);function c(){let{login:e,verifyOTP:a,resendOTP:c}=(0,i.useAuth)(),u=(0,d.useRouter)(),[h,m]=(0,s.useState)("credentials"),[x,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[f,w]=(0,s.useState)(""),[y,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(""),[k,S]=(0,s.useState)(0),C=async t=>{t.preventDefault(),v(!0),N("");try{let t=await e(x,g);t.success?"OTP_REQUIRED"===t.status?(m("otp"),"sent"===t.smsStatus?N(""):"failed"===t.smsStatus&&N(`⚠️ ${t.smsError||"Failed to send OTP"}. Please contact support or try again.`)):u.push("/dashboard"):N(t.message||"Login failed")}catch(e){console.error(e),N("System error during login.")}finally{v(!1)}},A=async e=>{e.preventDefault(),v(!0),N("");try{await a(x,f)?u.push("/dashboard"):(N("Invalid or expired OTP code."),v(!1))}catch(e){N("Verification failed."),v(!1)}},P=async()=>{if(!(k>0)){v(!0);try{await c(x),S(30);let e=setInterval(()=>{S(t=>t<=1?(clearInterval(e),0):t-1)},1e3);alert("New code sent!")}catch(e){N("Failed to resend OTP.")}finally{v(!1)}}};return(0,t.jsxs)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"}),(0,t.jsx)("div",{className:"z-10 w-full max-w-sm overflow-hidden rounded-2xl border border-white/20 bg-white/10 backdrop-blur-xl shadow-2xl",children:(0,t.jsxs)("div",{className:"p-8 text-white",children:[(0,t.jsx)("div",{className:"mb-6 flex justify-center",children:(0,t.jsx)("div",{className:"rounded-full bg-white/20 p-4 shadow-lg ring-1 ring-white/30",children:"otp"===h?(0,t.jsx)(l,{className:"h-10 w-10 text-white"}):(0,t.jsx)(r.Store,{className:"h-10 w-10 text-white"})})}),(0,t.jsx)("h2",{className:"mb-2 text-center text-3xl font-bold tracking-tight",children:"otp"===h?"Security Check":"Store Access"}),(0,t.jsx)("p",{className:"mb-8 text-center text-indigo-100",children:"otp"===h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"block",children:"✅ Code sent to your phone"}),(0,t.jsx)("span",{className:"block text-sm mt-1",children:"Enter the 6-digit code below"})]}):"Enter your credentials to continue"}),"credentials"===h?(0,t.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm font-medium text-indigo-100",children:"Username"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-indigo-200"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>{p(e.target.value),N("")},className:"block w-full rounded-xl border border-white/10 bg-white/5 py-3 pl-10 pr-4 text-white placeholder-indigo-200 shadow-sm transition-all focus:border-indigo-300 focus:bg-white/10 focus:ring focus:ring-indigo-300/20 outline-none",placeholder:"Enter username",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm font-medium text-indigo-100",children:"Security PIN"}),(0,t.jsx)("input",{type:"password",value:g,onChange:e=>{b(e.target.value.replace(/\D/g,"").slice(0,4)),N("")},className:"block w-full text-center text-2xl tracking-[0.5em] rounded-xl border border-white/10 bg-white/5 p-3 text-white placeholder-indigo-200 shadow-sm transition-all focus:border-indigo-300 focus:bg-white/10 focus:ring focus:ring-indigo-300/20 outline-none font-mono",placeholder:"••••",required:!0})]})]}),j&&(0,t.jsx)("p",{className:"text-center text-sm text-pink-300 font-medium animate-pulse bg-pink-500/20 p-2 rounded-lg border border-pink-500/30",children:j}),(0,t.jsx)("button",{type:"submit",disabled:y||g.length<4||!x,className:"group relative flex w-full items-center justify-center overflow-hidden rounded-lg bg-white p-3 font-semibold text-indigo-600 shadow-lg transition-all hover:bg-indigo-50 hover:scale-[1.02] active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-70",children:y?"Verifying...":(0,t.jsxs)("span",{className:"flex items-center gap-2",children:["Login ",(0,t.jsx)(n,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]}):(0,t.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm font-medium text-indigo-100 text-center",children:"One-Time Password"}),(0,t.jsx)("input",{type:"text",value:f,onChange:e=>{w(e.target.value.replace(/\D/g,"").slice(0,6)),N("")},className:"block w-full text-center text-3xl tracking-[0.5em] rounded-xl border border-white/10 bg-white/5 p-3 text-white placeholder-indigo-200 shadow-sm transition-all focus:border-indigo-300 focus:bg-white/10 focus:ring focus:ring-indigo-300/20 outline-none font-mono",placeholder:"••••••",autoFocus:!0,required:!0}),j&&(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-pink-300 font-medium animate-pulse",children:j})]}),(0,t.jsx)("button",{type:"submit",disabled:y||f.length<6,className:"w-full rounded-lg bg-white p-3 font-semibold text-indigo-600 shadow-lg transition-all hover:bg-indigo-50 active:scale-[0.98] disabled:opacity-70",children:y?"Verifying...":"Verify Code"}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("button",{type:"button",onClick:()=>m("credentials"),className:"text-indigo-200 hover:text-white underline",children:"Back to Login"}),(0,t.jsx)("button",{type:"button",disabled:k>0||y,onClick:P,className:"text-indigo-200 hover:text-white disabled:opacity-50",children:k>0?`Resend in ${k}s`:"Resend Code"})]})]}),(0,t.jsxs)("div",{className:"mt-8 flex items-center justify-center gap-4 text-xs text-indigo-200/60",children:[(0,t.jsx)("span",{children:"Restricted Access"}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:"POS v3.1"})]})]})})]})}e.s(["default",()=>c],52683)}]);